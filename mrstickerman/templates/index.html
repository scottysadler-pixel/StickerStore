{% extends "base.html" %}

{% block title %}Mr Stickerman - Premium Sticker Packs{% endblock %}

{% block extra_css %}
<style>
    /* Hero section */
    .hero {
        background-color: #f5f5f5;
        padding: 50px 0;
    }
    .hero h1 {
        font-size: 3.5rem;
        color: #FF6B35;
        font-weight: bold;
        text-align: center;
        margin-bottom: 20px;
    }
    .hero p {
        font-size: 1.3rem;
        color: #333;
        text-align: center;
    }
    .tagline {
        font-size: 1.5rem;
        color: #FF6B35;
        font-weight: bold;
        font-style: italic;
    }
    /* Product cards */
    .product-card {
        transition: transform 0.2s;
        margin-bottom: 30px;
    }
    .product-card:hover {
        transform: translateY(-5px);
    }
</style>
{% endblock %}

{% block content %}
<!-- Hero Section -->
<header class="hero">
    <div class="container">
        <h1>Welcome to Mr Stickerman!</h1>
        <p class="tagline">Stick to Quality, Stick to Fun!</p>
        <p>Bundaberg's Premier Sticker Store - Est. 2022</p>
    </div>
</header>

<!-- Promotional Alert -->
<div class="alert alert-success text-center mb-0" role="alert">
    âœ¨ <strong>New Stock Just Arrived!</strong> Free shipping on orders over $20!
</div>

<!-- Search Bar -->
<section class="py-4 bg-light">
    <div class="container">
        <form method="GET" action="{{ url_for('views.index') }}" class="form-inline justify-content-center">
            <input type="text" name="search" class="form-control mr-2" placeholder="Search for sticker packs..." 
                   value="{{ search_query }}" style="width: 400px;">
            <button type="submit" class="btn btn-primary">Search</button>
            {% if search_query %}
                <a href="{{ url_for('views.index') }}" class="btn btn-secondary ml-2">Clear</a>
            {% endif %}
        </form>
    </div>
</section>

<!-- Products Section -->
<section class="py-5">
    <div class="container">
        {% if search_query %}
            <h2 class="text-center mb-4">Search Results for "{{ search_query }}"</h2>
            {% if products %}
                <p class="text-center text-muted">Found {{ products|length }} product(s)</p>
            {% else %}
                <p class="text-center text-muted">No products found. Try a different search term.</p>
            {% endif %}
        {% else %}
            <h2 class="text-center mb-4">Our Sticker Packs</h2>
            <p class="text-center text-muted mb-4">All packs include 50 premium waterproof vinyl stickers</p>
        {% endif %}
        
        <div class="row">
            {% for product in products %}
            <div class="col-md-4 col-lg-3">
                <div class="card product-card">
                    <img src="{{ url_for('static', filename='images/' + product.image_url) }}" 
                         class="card-img-top" alt="{{ product.name }}">
                    <div class="card-body">
                        <h5 class="card-title">{{ product.name }}</h5>
                        <p class="text-muted small">{{ product.category }}</p>
                        <h5 class="text-success">${{ "%.2f"|format(product.price) }}</h5>
                        {% if product.in_stock %}
                            <span class="badge badge-success">In Stock</span>
                        {% else %}
                            <span class="badge badge-danger">Out of Stock</span>
                        {% endif %}
                        <hr>
                        <a href="{{ url_for('views.product_detail', id=product.id) }}" 
                           class="btn btn-primary btn-sm btn-block">View Details</a>
                        {% if product.in_stock %}
                        <form method="POST" action="{{ url_for('views.order') }}" class="mt-2">
                            <input type="hidden" name="product_id" value="{{ product.id }}">
                            <button type="submit" class="btn btn-success btn-sm btn-block">Add to Basket</button>
                        </form>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        
        {% if not products and not search_query %}
        <div class="text-center mt-5">
            <p class="lead">No products available yet. Please check back soon!</p>
            <a href="{{ url_for('admin.dbseed') }}" class="btn btn-warning">Seed Database</a>
        </div>
        {% endif %}
    </div>
</section>

<!-- About Section -->
<section class="about py-5 bg-light">
    <div class="container">
        <h2 class="text-center mb-4">About Us</h2>
        <p class="text-center">
            At Mr Stickerman, we specialise in providing high-quality stickers for all ages. 
            Established in 2022 in Bundaberg, our expertise lies in creating fun and vibrant 
            designs that cater to a variety of tastes.
        </p>
        <p class="text-center">
            All our stickers are made from premium waterproof, UV-resistant vinyl that lasts for years.
        </p>
    </div>
</section>
{% endblock %}